<h1 class="page-header">Feedback</h1>
<% if (typeof feedback != 'undefined') { %>
<%
	var limit = 10;
	var pages = Math.ceil(total/limit);
	var currentPage = (parseInt(offset)/limit) + 1;
	var next = parseInt(offset) + limit; 
	var back = parseInt(offset) - limit;
%>
<% if (total > 20) { %>
	<nav>
	  <p class="text-info">Showing results <%= parseInt(offset) + 1 %> &mdash; <%= parseInt(offset) + feedback.length %> of <%= total %>.</p>
	  <ul class="pagination">
	  	<% if (currentPage != 1) { %>
	    	<li><a href="/feedback?offset=<%=back%>"><span aria-hidden="true"><span aria-hidden="true">&laquo;</span><span class="sr-only">Previous</span></a></li>
	    <% } %>
		<% for (var i = 1; i <= pages; i++) { 
			var skip = (i-1)*limit; 
			var active = i == currentPage; %>
			<li <%= active ? "class=active" : "" %>><a href="/feedback?offset=<%=skip%>"><%= i %></a></li>
		<% } %>
		<% if (next < total) { %>
	    	<li><a href="/feedback?offset=<%=next%>"><span aria-hidden="true">&raquo;</span><span class="sr-only">Next</span></a></li>
	    <% } %>
	  </ul>
	</nav>
<% } %>
<table class="table table-striped table-bordered">
	<thead>
		<tr>
			<th>Equation ID</th>
			<th>Equation</th>
			<th>Comments</th>
			<th>Date</th>
		</tr>
	</thead>
	<tbody>
	<% _.each(feedback, function (f) { %>
		<tr>
			<td><a href="/feedback/equation?equationID=<%= f.equation.id %>"><%= f.equation.id %></a></td>
			<td><%= f.equation.math %></td>
			<td><%= f.comments %></td>
			<td><%= f.createdAt %></td>
		</tr>
	<% }) %>
	</tbody>
</table>
<% } else { %>
<p class="text-info">No feedback.</p>
<% } %>