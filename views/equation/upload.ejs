<h1>HTML5 Upload</h1>
<% if (typeof html5 != 'undefined') { %>
	<p><strong>Filename:</strong> <%= html5.filename %></p>
	<p><strong>Output Format:</strong> <%= html5.outputFormat %></p>
	<% if (equations.length > 0) { %>
		<h2>Equations</h2>
		<table class="table table-striped table-bordered" id="resultsTable">
		<thead>
			<tr>
				<th>Equation ID</th>
				<th>Input Math Type</th>
				<th>Input Math</th>
				<th>Output</th>
			</tr>
		</thead>
		<tbody>
		<% _.each(equations, function(equation) { %>
			<tr>
				<td><a href="/equation/<%= equation.id %>"><%= equation.id %></a></td>
				<td><%= equation.mathType %></td>
				<td>
					<% switch (equation.mathType) { 
						case "MathML": %>

							<%- equation.math %>
						<%	break;
						case "AsciiMath": %>
							`<%= equation.math %>`
						<%
							break;
						case "TeX": %>
							$$<%= equation.math %>$$
						<%
							break;
						default:
							//do nothing.
						} %>
				</td>
				<td><%- equation.components[0].source %></td>
			</tr>
		<% }); %>
		</tbody>
		</table>
	<% } %>
	
<% } %>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      jax: ["input/TeX","input/MathML","input/AsciiMath","output/HTML-CSS","output/NativeMML", "output/SVG"],
      extensions: ["tex2jax.js","mml2jax.js","asciimath2jax.js","MathMenu.js","MathZoom.js","toMathML.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      }
    });
</script>
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>